output_dir: test/out
images: test/images

resources:
  cpu:
    partition: cpu
    qos: normal
    gpu: 0
  gpu:
    partition: gpu
    qos: normal
    gpu: 1


# defaults:
#   label_harmonization:
#     cellhint:
#       use_rep: 'X_pca'
#       use_pct: true

DATASETS:
  test_cellhint:
    input:
      label_harmonization:
        pbmc: test/input/preprocessing/dataset~all/file_id~pbmc/preprocessed.zarr
    label_harmonization:
      plot_colors:
        - phase
        - bulk_labels
      dataset_key: phase
      author_label_key: bulk_labels
      organ: blood
      cellhint:
        use_rep: X_pca
        use_pct: false
  test_cellhint_pct:
    input:
      label_harmonization:
        pbmc: test/input/preprocessing/dataset~all/file_id~pbmc/preprocessed.zarr
    label_harmonization:
      plot_colors: bulk_labels
      dataset_key: phase
      author_label_key: bulk_labels
      organ: blood
      cellhint:
        use_rep: X_pca
        use_pct: true

ORGANS:
  blood:
    marker_genes:
      - ITGB2
      - HES4
      - CD14
      - SSU72
      - S100B