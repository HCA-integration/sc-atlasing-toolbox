output_dir: test/out
images: test/images

resources:
  cpu:
    partition: cpu
    qos: normal
    gpu: 0
  gpu:
    partition: gpu
    qos: normal
    gpu: 1


# defaults:
#   label_harmonization:
#     celltypist:
#       use_rep: 'X_pca'
#       use_pct: true

DATASETS:
  blood_relabel:
    input:
      label_harmonization: test/input/load_data/filtered/SchulteSchrepping2020.zarr
    label_harmonization:
      mapping:
        file:  test/input/mapping.tsv
        order:
          - cell_type
          - harmonized_label
          - lineage
  test_celltypist:
    input:
      label_harmonization: test/input/preprocessing/pbmc/preprocessed.h5ad
    label_harmonization:
      plot_colors:
        - phase
        - bulk_labels
      dataset_key: phase
      author_label_key: bulk_labels
      organ: blood
      celltypist:
        use_rep: X_pca
        use_pct: false
  test_celltypist_pct:
    input:
      label_harmonization: test/input/preprocessing/pbmc/preprocessed.h5ad
    label_harmonization:
      plot_colors: bulk_labels
      dataset_key: phase
      author_label_key: bulk_labels
      organ: blood
      celltypist:
        use_rep: X_pca
        use_pct: true

ORGANS:
  blood:
    marker_genes:
      - ITGB2
      - HES4
      - CD14
      - SSU72
      - S100B